{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="  crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.4.1/css/simple-line-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'mysports/style.css' %}">
    <link rel="stylesheet" href="{% static 'users/assets/css/style.css' %}">

<!--    <link rel="stylesheet" href="{% static 'mysports/bootstrap/css/bootstrap.min.css' %}">-->
    <link rel="stylesheet" href="{% static 'mysports/font-awesome/css/font-awesome.min.css' %}">




</head>
<body>

<button onclick="topFunction()" id="backToTop" title="Go to top">Top</button>
        <nav class="navbar bg-dark justify-content-center navbar-expand-md navigation-clean-search"  style="position:sticky;top:0;left:0;z-index:9999">
            <div class="container-fluid">
<!--                <a class="navbar-brand" href="#">Company Name</a>-->
                 <a class="navbar-brand" href="/index">
                    <img src="{% static '/mysports/images/SportsMart.png' %}" alt="Sports Mart"
                    style="float:right;width:65px;height:30px;">
                </a>
<!--                <button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1">-->
<!--                    <span class="sr-only">Toggle navigation</span>-->
<!--                    <span class="navbar-toggler-icon"></span>-->
<!--                </button>-->
<!--                <div class="collapse navbar-collapse" id="navcol-1">-->

                    <form class="form-inline mr-auto card card-sm" target="_self" action="/index">
<!--                    <form class="card card-sm"  style="height:40px;" action="/index">-->
                        {% csrf_token %}
                        <div class="form-group">
                            <input class="form-control search-field"
                                   style="width:500px" placeholder="Your Search Here"
                                   type="search" id="search-field" name='search_item' aria-labelledby="search-button">

                            <button class="btn btn-info" id="search-button">
                                <i class="fa fa-search"></i></button>


                        </div>

                    </form>
<!--                    <ul class="nav navbar-nav">-->
<!--&lt;!&ndash;                        <li class="nav-item" role="presentation"><a class="nav-link" href="#">Link</a></li>&ndash;&gt;-->
<!--                        <li class="nav-item dropdown">-->
<!--                            <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false" href="#">User Name </a>-->
<!--                            <div class="dropdown-menu" role="menu">-->
<!--                                <a class="dropdown-item" role="presentation" href="#">First Item</a>-->
<!--                                <a class="dropdown-item" role="presentation" href="#">Second Item</a>-->
<!--                                <a class="dropdown-item" role="presentation" href="#">Third Item</a>-->
<!--                            </div>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                    <span class="navbar-text">-->
<!--                        <a class="login" href="#">Log In</a>-->
<!--                    </span>-->
<!--                     <div>-->
                        {% if request.session.userId%}
                            <ul class="nav navbar-nav">
<!--                        <li class="nav-item" role="presentation"><a class="nav-link" href="#">Link</a></li>-->
                                <li class="nav-item dropdown" style="overflow:visible;z-index:5000;position:relative;">
                                    <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false" href="#">
                                        <font color="white">
<!--                                            Hey {{userDetails.first_name}}-->
                                            Hey {{request.session.userName}}
                                        </font>
                                    </a>
                                    <div class="dropdown-menu" role="menu">
<!--                                        <a class="dropdown-item" role="presentation" href="/users/userOrders/{{userDetails.id}}">Your Orders</a>-->
<!--                                        <a class="dropdown-item" role="presentation" href="/users/userAccount/{{userDetails.id}}">Your Account</a>-->
                                        <a class="dropdown-item" role="presentation" href="/users/userOrders/{{request.session.userId}}">Your Orders</a>
                                        <a class="dropdown-item" role="presentation" href="/users/userAccount/{{request.session.userId}}">Your Account</a>

                                    </div>
                                </li>
                            </ul>
                            <ul class="nav">
<!--                              <li class="active">-->
<!--                                 <p class="font-weight-bold">Hello {{userDetails.first_name}}</p>-->
<!--                              </li>-->
                                <li class="active" style="padding-left:.5em">
                                <a href="/users/signOut/" class="btn btn-info fa fa-sign-out">Logout</a>fa-plus-circle
                              </li>

                            </ul>
                        {%else%}
                            <ul class="nav">
                              <li class="active">
                                <a href="/users/signIn/" class="btn btn-info fa fa-sign-in">Sign In</a>
                              </li>
                              <li class="active" style="padding-left:.5em">
                                <a href="/users/createUser/" class="btn btn-info fa fa-user-circle">Sign Up</a>
                              </li>
                            </ul>
                        {%endif%}
<!--                    </div>-->
<!--                   <a class="btn btn-light action-button" role="button" href="#"></a>-->

<!--                    <div>-->
                    <ul class="nav">
                              <li class="active" style="padding-left:2em">
<!--                    <button id="cart" data-html="true"-->
<!--                            type="button" class="btn btn-primary fa fa-shopping-cart"-->
<!--                            data-container="body" data-toggle="popover" data-placement="top"-->
<!--                            data-trigger="focus" data-content="Vivamus sagittis lacus vel augue laoreet rutrum faucibus.">-->
<!--                            <i class="fa fa-shopping-cart"></i>-->
<!--                    </button>-->
                    <a class="btn btn-primary fa fa-shopping-cart" id="cart"
                       data-html="true" href="/showCart" role="button"
                       data-container="body" data-placement="top"
                            data-trigger="focus">Cancel </a>

<!--                    <i id="cart" data-html="true" type="button" class="btn btn-primary fa fa-shopping-cart" data-container="body" data-toggle="popover" data-placement="top"-->
<!--                            data-trigger="focus" data-content="Vivamus sagittis lacus vel augue laoreet rutrum faucibus.">-->
<!--                            -->
<!--                    </i>-->
<!--                    </div>-->
                              </li>
                    </ul>
<!--                </div>-->
            </div>
        </nav>


<!--    <div class="row m-0 fixed-nav-bar bg-light" style="position:sticky;top:0;left:0;z-index:9999;">-->
<!--            <div class="col-md-1 m-0" style="align-items:right;">-->
<!--                <a class="navbar-brand" href="/index">-->
<!--                    <img src="{% static '/mysports/images/SportsMart.png' %}" alt="SPorts Mart"-->
<!--                    style="float:right;width:65px;height:30px;">-->
<!--                </a>-->
<!--            </div>-->

<!--          <div class="col-md-8" style="align-items:left;justify-content:left;">-->
<!--                <form class="card card-sm"  style="height:40px;" action="/index">-->
<!--                    {% csrf_token %}-->
<!--                        <div>-->
<!--                            <input type="search" style="width:730px"-->
<!--                                   name='search_item'-->
<!--                                   placeholder="Search for products" style="border:none;">-->
<!--                            <button class="btn btn-success" type="submit" >Search</button>-->
<!--                </form>-->
<!--          </div>-->

<!--            </div>-->
<!--            <div class="col-md-2" style="align:center; border:1px solid black;" >-->
<!--            <div class="col-md-2">-->
<!--                {% if userDetails.isLoggedIn%}-->
<!--                    <ul class="nav">-->
<!--                      <li class="active">-->
<!--                         <p class="font-weight-bold">Hello {{userDetails.first_name}}</p>-->
<!--                      </li>-->
<!--                        <li class="active" style="padding-left:.5em">-->
<!--                        <a href="/users/signOut/" class="btn btn-info">Logout</a>-->
<!--                      </li>-->

<!--                    </ul>-->
<!--                {%else%}-->
<!--                    <ul class="nav">-->
<!--                      <li class="active">-->
<!--                        <a href="/users/signIn/" class="btn btn-info">Sign In</a>-->
<!--                      </li>-->
<!--                      <li class="active" style="padding-left:.5em">-->
<!--                        <a href="/users/createUser/" class="btn btn-info">Sign Up</a>-->
<!--                      </li>-->
<!--                    </ul>-->
<!--                {%endif%}-->
<!--            </div>-->
<!--            <div class="col-md-1">-->
<!--                    <button id="cart" data-html="true" type="button" class="btn btn-primary" data-container="body" data-toggle="popover" data-placement="top"-->
<!--                            data-trigger="focus" data-content="Vivamus sagittis lacus vel augue laoreet rutrum faucibus."></button>-->

<!--                </a>-->
<!--            </div>-->
<!--        </div>-->

<!--    </div>-->
                <nav class="navbar navbar-expand-lg navbar-dark bg-dark py-0">
<!--                  <nav class="navbar navbar-expand-lg py-0">-->

                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                      <ul class="navbar-nav">

                         {%for classId, className in classMenuDict.items %}
                             <li class="nav-item active dropdown">
                              <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="{{classId}}">{{ className }} <span class="sr-only">(current)</span></a>

                                    <ul class="dropdown-menu dropdown-content">
                                        {%for productCategory in productCategories %}
                                            {%if productCategory.productClass.id  == classId %}
                                             <li><a href="/?catagory={{productCategory.id}}">{{productCategory.name}}</a></li>
                                            {%endif%}
                                        {% endfor %}
                                     </ul>



                            </li>
                        {% endfor %}
                      </ul>
                    </div>
                  </nav>
    {%block body%}

    {% endblock %}

</body>
<script type="text/javascript">
const $dropdown = $(".dropdown");
const $dropdownToggle = $(".dropdown-toggle");
const $dropdownMenu = $(".dropdown-menu");
const showClass = "show";

$(window).on("load resize", function() {
  if (this.matchMedia("(min-width: 768px)").matches) {
    $dropdown.hover(
      function() {
        const $this = $(this);
        $this.addClass(showClass);
        $this.find($dropdownToggle).attr("aria-expanded", "true");
        $this.find($dropdownMenu).addClass(showClass);
      },
      function() {
        const $this = $(this);
        $this.removeClass(showClass);
        $this.find($dropdownToggle).attr("aria-expanded", "false");
        $this.find($dropdownMenu).removeClass(showClass);
      }
    );
  } else {
    $dropdown.off("mouseenter mouseleave");
  }
});


var topButton = document.getElementById("backToTop");

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
    topButton.style.display='block';
  } else {
    topButton.style.display='none';
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>

</html>